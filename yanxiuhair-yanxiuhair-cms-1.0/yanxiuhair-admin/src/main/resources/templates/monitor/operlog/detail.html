<html lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<th:block th:include="include :: jsonview-css" />
<div class="white-bg">
	<div align="center">
		<div class="main-content">
			<table class="table table-striped table-bordered table-td">
		        <tbody>
		            <tr>
		                <td>操作模块:</td>
		                <td>
		                	 <div class="form-control-static" th:text="${operLog.title} + ' / ' + ${@dict.getLabel('sys_oper_type',operLog.businessType)}"></div>
		                </td>
		            </tr>
		            <tr>
		                <td>登录信息:</td>
		                <td>
		                	 <div class="form-control-static" th:text="${operLog.operName} + ' / ' + ${operLog.deptName} + ' / ' + ${operLog.operIp}+ ' / ' + ${operLog.operLocation}"></div>
		                </td>
		            </tr>
		            <tr>
		                <td>请求地址:</td>
		                <td>
		                	 <div class="form-control-static" th:text="${operLog.operUrl}"></div>
		                </td>
		            </tr>
		            <tr>
		                <td>请求方式:</td>
		                <td>
		                	 <div class="form-control-static" th:text="${operLog.operUrl}"></div>
		                </td>
		            </tr>
		            <tr>
		                <td>操作方法:</td>
		                <td>
		                	 <div class="form-control-static" th:text="${operLog.method}"></div>
		                </td>
		            </tr>
		            <tr>
		                <td>请求参数:</td>
		                <td>
		                	 <div class="form-control-static"><pre id="operParam" style="margin: 0;"></pre></div>
		                </td>
		            </tr>
		            <tr>
		                <td>返回参数:</td>
		                <td>
		                	 <div class="form-control-static"><pre id="operParam" style="margin: 0;"></pre></div>
		                </td>
		            </tr>
		            <tr>
		                <td>状态:</td>
		                <td>
		                	 <div class="form-control-static" th:text="${operLog.status == 0 ? '正常' : '异常'}"></div>
		                </td>
		            </tr>
		            <tr th:style="'display:' + ${operLog.status == 0 ? 'none' : ''}">
		                <td>异常信息:</td>
		                <td>
		                	 <div class="form-control-static" th:text="${operLog.errorMsg}"></div>
		                </td>
		            </tr>
			 	</tbody>
		    </table>
		</div>
	</div>
</div>
<th:block th:include="include :: jsonview-js" />
<script th:inline="javascript">
    $(function() {
    	 var operParam = [[${operLog.operParam}]];
    	if ($.common.isNotEmpty(operParam) && operParam.length < 2000) {
    		$("#operParam").JSONView(operParam);
    	} else {
    		$("#operParam").text(operParam);
    	}
    	var jsonResult = [[${operLog.jsonResult}]];
    	if ($.common.isNotEmpty(jsonResult) && jsonResult.length < 2000) {
    		$("#jsonResult").JSONView(jsonResult);
    	} else {
    		$("#jsonResult").text(jsonResult);
    	} 
    });
</script>